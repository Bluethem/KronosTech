# Diseño Conceptual

## Diagrama Conceptual

![Diagrama Conceptual]()

---

## Diccionario de Datos

### Tipo de Entidad

#### **1. Familia**
- **Descripción:** Agrupación de nivel superior para organizar productos en categorías amplias.
- **Propósito:** Estructurar el catálogo de productos de forma jerárquica.
- **Reglas de negocio:**
  - Debe tener al menos una categoría asociada.
  - El nombre debe ser único en el sistema.
  - Puede estar activa o inactiva.

| **Atributo** | **Descripción** | **Propósito** | **Dominio** | **Obligatorio** | **Único** | **Multivaluado** | **Ejemplo** |
|--------------|-----------------|---------------|-------------|-----------------|-----------|------------------|-------------|
| nombre | Nombre de la familia | Identificación | Texto(100) | Sí | Sí | No | Hardware |
| descripcion | Descripción detallada | Informativo | Texto | No | No | No | Componentes principales |
| icono | URL del icono | Visual | Texto(255) | No | No | No | /icons/hardware.svg |
| slug | Identificador para URLs | SEO | Texto(100) | Sí | Sí | No | hardware |
| orden | Orden de visualización | Organización | Número | Sí | No | No | 1 |
| estado | Estado de la familia | Control | Enumeración | Sí | No | No | Activo |

---

#### **2. Categoría**
- **Descripción:** Clasificación intermedia de productos dentro de una familia.
- **Propósito:** Organizar productos en grupos específicos dentro de cada familia.
- **Reglas de negocio:**
  - Debe pertenecer a una familia.
  - El nombre debe ser único dentro de su familia.
  - Puede tener múltiples productos asociados.

| **Atributo** | **Descripción** | **Propósito** | **Dominio** | **Obligatorio** | **Único** | **Multivaluado** | **Ejemplo** |
|--------------|-----------------|---------------|-------------|-----------------|-----------|------------------|-------------|
| nombre | Nombre de la categoría | Identificación | Texto(100) | Sí | No | No | Tarjetas Gráficas |
| descripcion | Descripción detallada | Informativo | Texto | No | No | No | GPUs para gaming |
| icono | URL del icono | Visual | Texto(255) | No | No | No | /icons/gpu.svg |
| slug | Identificador para URLs | SEO | Texto(100) | Sí | Sí | No | tarjetas-graficas |
| orden | Orden de visualización | Organización | Número | Sí | No | No | 1 |
| estado | Estado de la categoría | Control | Enumeración | Sí | No | No | Activo |

---

#### **3. Marca**
- **Descripción:** Fabricante de productos tecnológicos.
- **Propósito:** Identificar el fabricante de los productos ofrecidos.
- **Reglas de negocio:**
  - El nombre debe ser único.
  - Puede fabricar múltiples productos.
  - Puede estar activa o inactiva.

| **Atributo** | **Descripción** | **Propósito** | **Dominio** | **Obligatorio** | **Único** | **Multivaluado** | **Ejemplo** |
|--------------|-----------------|---------------|-------------|-----------------|-----------|------------------|-------------|
| nombre | Nombre de la marca | Identificación | Texto(100) | Sí | Sí | No | ASUS |
| descripcion | Descripción de la marca | Informativo | Texto | No | No | No | ASUSTeK Computer Inc. |
| logo | URL del logo | Visual | Texto(255) | No | No | No | /logos/asus.png |
| slug | Identificador para URLs | SEO | Texto(100) | Sí | Sí | No | asus |
| pais_origen | País de origen | Informativo | Texto(100) | No | No | No | Taiwán |
| estado | Estado de la marca | Control | Enumeración | Sí | No | No | Activo |

---

#### **4. Producto**
- **Descripción:** Tipo o modelo general de producto (plantilla).
- **Propósito:** Definir el tipo de producto sin especificar la marca o instancia específica.
- **Reglas de negocio:**
  - Debe pertenecer a una categoría.
  - Puede tener múltiples instancias (Producto_Detalle) de diferentes marcas.
  - Agrupa las valoraciones de todas sus instancias.

| **Atributo** | **Descripción** | **Propósito** | **Dominio** | **Obligatorio** | **Único** | **Multivaluado** | **Ejemplo** |
|--------------|-----------------|---------------|-------------|-----------------|-----------|------------------|-------------|
| nombre | Nombre del tipo de producto | Identificación | Texto(200) | Sí | No | No | NVIDIA GeForce RTX 4090 |
| descripcion | Descripción general | Informativo | Texto | No | No | No | GPU de alta gama |
| slug | Identificador para URLs | SEO | Texto(200) | Sí | Sí | No | nvidia-rtx-4090 |
| especificaciones_base | Especificaciones comunes | Técnico | JSON | No | No | No | {"memoria":"24GB"} |
| imagen_referencia | Imagen de referencia | Visual | Texto(255) | No | No | No | /imgs/rtx4090-ref.jpg |
| valoracion_promedio | Valoración promedio | Estadístico | Decimal(3,2) | Sí | No | No | 4.75 |
| total_valoraciones | Total de valoraciones | Estadístico | Número | Sí | No | No | 150 |
| estado | Estado del producto | Control | Enumeración | Sí | No | No | Activo |

---

#### **5. Producto_Detalle**
- **Descripción:** Instancia específica de un producto con marca y modelo particular.
- **Propósito:** Representar productos vendibles específicos en el inventario.
- **Reglas de negocio:**
  - Debe tener un tipo de producto asociado.
  - Debe tener una marca.
  - El SKU debe ser único en el sistema.
  - Controla su propio inventario.

| **Atributo** | **Descripción** | **Propósito** | **Dominio** | **Obligatorio** | **Único** | **Multivaluado** | **Ejemplo** |
|--------------|-----------------|---------------|-------------|-----------------|-----------|------------------|-------------|
| nombre | Nombre completo | Identificación | Texto(200) | Sí | No | No | ASUS ROG Strix RTX 4090 OC |
| descripcion | Descripción específica | Informativo | Texto | No | No | No | Con overclock de fábrica |
| modelo | Modelo del fabricante | Identificación | Texto(100) | No | No | No | ROG-STRIX-RTX4090-O24G |
| sku | Código único | Identificación | Texto(100) | Sí | Sí | No | ASU-4090-001 |
| slug | Identificador para URLs | SEO | Texto(200) | Sí | Sí | No | asus-rog-strix-rtx-4090 |
| precio_base | Precio sin descuento | Financiero | Decimal(10,2) | Sí | No | No | 1899.99 |
| precio_venta | Precio actual | Financiero | Decimal(10,2) | Sí | No | No | 1799.99 |
| imagen_principal | Imagen principal | Visual | Texto(255) | No | No | No | /imgs/asus-rtx4090.jpg |
| peso | Peso en kg | Logístico | Decimal(8,2) | No | No | No | 2.5 |
| dimensiones | Dimensiones físicas | Logístico | Texto(100) | No | No | No | 30x12x5 cm |
| garantia_meses | Meses de garantía | Servicio | Número | Sí | No | No | 36 |
| total_vendidos | Unidades vendidas | Estadístico | Número | Sí | No | No | 47 |
| es_destacado | Si es destacado | Marketing | Booleano | Sí | No | No | Verdadero |
| es_nuevo | Si es nuevo | Marketing | Booleano | Sí | No | No | Falso |
| es_oferta | Si está en oferta | Marketing | Booleano | Sí | No | No | Verdadero |
| estado | Estado del producto | Control | Enumeración | Sí | No | No | Activo |

---

#### **6. Valoración**
- **Descripción:** Reseña y calificación de un producto realizada por un cliente.
- **Propósito:** Permitir que los clientes compartan su experiencia con productos.
- **Reglas de negocio:**
  - Un usuario puede valorar un producto solo una vez.
  - La calificación debe estar entre 1 y 5 estrellas.
  - Puede requerir aprobación antes de publicarse.

| **Atributo** | **Descripción** | **Propósito** | **Dominio** | **Obligatorio** | **Único** | **Multivaluado** | **Ejemplo** |
|--------------|-----------------|---------------|-------------|-----------------|-----------|------------------|-------------|
| calificacion | Calificación en estrellas | Valoración | Número(1-5) | Sí | No | No | 5 |
| titulo | Título de la reseña | Informativo | Texto(200) | No | No | No | Excelente rendimiento |
| comentario | Comentario detallado | Informativo | Texto | No | No | No | Funciona perfecto en 4K |
| compra_verificada | Si es compra verificada | Verificación | Booleano | Sí | No | No | Verdadero |
| votos_util | Votos positivos | Estadístico | Número | Sí | No | No | 15 |
| aprobado | Si está aprobada | Moderación | Booleano | Sí | No | No | Verdadero |

---

#### **7. Descuento**
- **Descripción:** Promoción o descuento aplicable a productos, categorías o marcas.
- **Propósito:** Gestionar descuentos temporales y promociones.
- **Reglas de negocio:**
  - Tiene fecha de inicio y fin de vigencia.
  - Puede aplicarse a productos, categorías, marcas o ser global.
  - Puede tener límite de usos.

| **Atributo** | **Descripción** | **Propósito** | **Dominio** | **Obligatorio** | **Único** | **Multivaluado** | **Ejemplo** |
|--------------|-----------------|---------------|-------------|-----------------|-----------|------------------|-------------|
| nombre | Nombre del descuento | Identificación | Texto(100) | Sí | No | No | Black Friday RTX 2025 |
| descripcion | Descripción | Informativo | Texto | No | No | No | 15% en tarjetas RTX |
| tipo_descuento | Tipo de descuento | Clasificación | Enumeración | Sí | No | No | Porcentaje |
| valor | Valor del descuento | Financiero | Decimal(10,2) | Sí | No | No | 15.00 |
| aplica_a | Ámbito de aplicación | Clasificación | Enumeración | Sí | No | No | Producto |
| fecha_inicio | Inicio de vigencia | Temporal | Fecha-Hora | Sí | No | No | 2025-11-25 00:00 |
| fecha_fin | Fin de vigencia | Temporal | Fecha-Hora | Sí | No | No | 2025-11-30 23:59 |
| activo | Si está activo | Control | Booleano | Sí | No | No | Verdadero |

---

#### **8. Banner**
- **Descripción:** Banner promocional para la página de inicio.
- **Propósito:** Mostrar promociones destacadas en el carrusel principal.
- **Reglas de negocio:**
  - Puede tener vigencia temporal.
  - Tiene orden de visualización definido.
  - Puede estar activo o inactivo.

| **Atributo** | **Descripción** | **Propósito** | **Dominio** | **Obligatorio** | **Único** | **Multivaluado** | **Ejemplo** |
|--------------|-----------------|---------------|-------------|-----------------|-----------|------------------|-------------|
| titulo | Título del banner | Informativo | Texto(200) | Sí | No | No | Black Friday 2025 |
| subtitulo | Subtítulo | Informativo | Texto(200) | No | No | No | Hasta 50% off |
| imagen_desktop | Imagen para desktop | Visual | Texto(255) | Sí | No | No | /banners/bf-desk.jpg |
| imagen_mobile | Imagen para móvil | Visual | Texto(255) | No | No | No | /banners/bf-mobile.jpg |
| url_destino | URL de destino | Navegación | Texto(255) | No | No | No | /ofertas/black-friday |
| orden | Orden en carrusel | Organización | Número | Sí | No | No | 1 |
| activo | Si está activo | Control | Booleano | Sí | No | No | Verdadero |

---

#### **9. Usuario**
- **Descripción:** Persona registrada en el sistema (cliente o administrador).
- **Propósito:** Gestionar la información de los usuarios del sistema.
- **Reglas de negocio:**
  - El email debe ser único.
  - Debe tener un rol asignado.
  - La contraseña debe estar hasheada.

| **Atributo** | **Descripción** | **Propósito** | **Dominio** | **Obligatorio** | **Único** | **Multivaluado** | **Ejemplo** |
|--------------|-----------------|---------------|-------------|-----------------|-----------|------------------|-------------|
| nombre | Nombre del usuario | Identificación | Texto(100) | Sí | No | No | Juan |
| apellido | Apellido del usuario | Identificación | Texto(100) | Sí | No | No | Pérez |
| email | Correo electrónico | Autenticación | Texto(255) | Sí | Sí | No | juan@email.com |
| contrasena | Hash de contraseña | Seguridad | Texto(255) | Sí | No | No | $argon2id$... |
| telefono | Teléfono de contacto | Comunicación | Texto(20) | No | No | Sí | 987654321 |
| dni | Documento de identidad | Identificación | Texto(20) | No | No | No | 72345678 |
| rol | Rol en el sistema | Autorización | Enumeración | Sí | No | No | Cliente |
| email_verificado | Si el email fue verificado | Control | Booleano | Sí | No | No | Verdadero |
| activo | Si está activo | Control | Booleano | Sí | No | No | Verdadero |

---

#### **10. Carrito**
- **Descripción:** Carrito de compras temporal del usuario.
- **Propósito:** Almacenar productos antes de realizar la compra.
- **Reglas de negocio:**
  - Un usuario registrado tiene máximo un carrito activo.
  - Usuarios no registrados usan identificador de sesión.
  - Puede expirar después de inactividad.

| **Atributo** | **Descripción** | **Propósito** | **Dominio** | **Obligatorio** | **Único** | **Multivaluado** | **Ejemplo** |
|--------------|-----------------|---------------|-------------|-----------------|-----------|------------------|-------------|
| id_sesion | ID de sesión anónima | Identificación | Texto(100) | No | No | No | sess_abc123xyz |
| estado | Estado del carrito | Control | Enumeración | Sí | No | No | Activo |
| fecha_expiracion | Fecha de expiración | Control | Fecha-Hora | No | No | No | 2025-11-15 12:00 |

---

#### **11. Venta**
- **Descripción:** Registro de una compra realizada por un cliente.
- **Propósito:** Gestionar los pedidos de los clientes.
- **Reglas de negocio:**
  - Debe tener un usuario asociado.
  - El número de pedido debe ser único.
  - Debe tener al menos un producto.
  - Pasa por múltiples estados.

| **Atributo** | **Descripción** | **Propósito** | **Dominio** | **Obligatorio** | **Único** | **Multivaluado** | **Ejemplo** |
|--------------|-----------------|---------------|-------------|-----------------|-----------|------------------|-------------|
| numero_pedido | Número único | Identificación | Texto(50) | Sí | Sí | No | PED-20251114-0001 |
| subtotal | Subtotal sin descuentos | Financiero | Decimal(10,2) | Sí | No | No | 3599.98 |
| descuento_total | Total de descuentos | Financiero | Decimal(10,2) | Sí | No | No | 180.00 |
| costo_envio | Costo del envío | Financiero | Decimal(10,2) | Sí | No | No | 15.00 |
| total | Total a pagar | Financiero | Decimal(10,2) | Sí | No | No | 3434.98 |
| moneda | Moneda del pedido | Financiero | Texto(3) | Sí | No | No | PEN |
| estado | Estado del pedido | Control | Enumeración | Sí | No | No | Confirmado |
| estado_pago | Estado del pago | Control | Enumeración | Sí | No | No | Pagado |
| metodo_envio | Método de envío | Logístico | Texto(100) | No | No | No | Express |
| numero_tracking | Número de seguimiento | Logístico | Texto(100) | No | No | No | TRACK123456 |

---

#### **12. Cupón**
- **Descripción:** Cupón de descuento promocional con código único.
- **Propósito:** Ofrecer códigos de descuento a clientes.
- **Reglas de negocio:**
  - El código debe ser único.
  - Tiene vigencia temporal.
  - Puede tener límite de usos.

| **Atributo** | **Descripción** | **Propósito** | **Dominio** | **Obligatorio** | **Único** | **Multivaluado** | **Ejemplo** |
|--------------|-----------------|---------------|-------------|-----------------|-----------|------------------|-------------|
| codigo | Código único | Identificación | Texto(50) | Sí | Sí | No | BIENVENIDO10 |
| nombre | Nombre del cupón | Informativo | Texto(100) | Sí | No | No | Cupón de Bienvenida |
| tipo_cupon | Tipo de cupón | Clasificación | Enumeración | Sí | No | No | Porcentaje |
| valor | Valor del descuento | Financiero | Decimal(10,2) | Sí | No | No | 10.00 |
| compra_minima | Compra mínima | Restricción | Decimal(10,2) | Sí | No | No | 100.00 |
| usos_maximos | Usos máximos | Control | Número | No | No | No | 1000 |
| fecha_inicio | Inicio vigencia | Temporal | Fecha-Hora | Sí | No | No | 2025-11-01 00:00 |
| fecha_fin | Fin vigencia | Temporal | Fecha-Hora | Sí | No | No | 2025-12-31 23:59 |
| activo | Si está activo | Control | Booleano | Sí | No | No | Verdadero |

---

#### **13. Metodo_Pago**
- **Descripción:** Catálogo de métodos de pago disponibles.
- **Propósito:** Definir los métodos de pago aceptados.
- **Reglas de negocio:**
  - Define métodos disponibles.
  - Cada método tiene comisiones asociadas.
  - Puede estar activo o inactivo.

| **Atributo** | **Descripción** | **Propósito** | **Dominio** | **Obligatorio** | **Único** | **Multivaluado** | **Ejemplo** |
|--------------|-----------------|---------------|-------------|-----------------|-----------|------------------|-------------|
| nombre | Nombre del método | Identificación | Texto(100) | Sí | No | No | Tarjeta Visa |
| tipo | Tipo de método | Clasificación | Enumeración | Sí | No | No | Tarjeta Crédito |
| proveedor | Proveedor del servicio | Informativo | Texto(100) | No | No | No | Visa |
| comision_porcentaje | Comisión porcentual | Financiero | Decimal(5,2) | Sí | No | No | 2.9 |
| comision_fija | Comisión fija | Financiero | Decimal(10,2) | Sí | No | No | 0.30 |
| activo | Si está activo | Control | Booleano | Sí | No | No | Verdadero |

---

#### **14. Pago**
- **Descripción:** Transacción de pago realizada.
- **Propósito:** Registrar las transacciones de pago.
- **Reglas de negocio:**
  - Debe estar asociado a una venta.
  - Registra información del procesador.
  - NUNCA guarda datos sensibles de tarjetas.

| **Atributo** | **Descripción** | **Propósito** | **Dominio** | **Obligatorio** | **Único** | **Multivaluado** | **Ejemplo** |
|--------------|-----------------|---------------|-------------|-----------------|-----------|------------------|-------------|
| numero_transaccion | Número único | Identificación | Texto(100) | No | Sí | No | TXN-20251114-001 |
| estado | Estado del pago | Control | Enumeración | Sí | No | No | Completado |
| monto | Monto pagado | Financiero | Decimal(10,2) | Sí | No | No | 3434.98 |
| moneda | Moneda del pago | Financiero | Texto(3) | Sí | No | No | PEN |
| proveedor_pago | Procesador | Informativo | Texto(50) | No | No | No | Stripe |
| marca_tarjeta | Marca de tarjeta | Informativo | Texto(50) | No | No | No | Visa |

---

#### **15. Reembolso**
- **Descripción:** Solicitud de devolución de dinero.
- **Propósito:** Gestionar reembolsos a clientes.
- **Reglas de negocio:**
  - Debe estar asociado a un pago.
  - Requiere aprobación de administrador.
  - Puede ser total o parcial.

| **Atributo** | **Descripción** | **Propósito** | **Dominio** | **Obligatorio** | **Único** | **Multivaluado** | **Ejemplo** |
|--------------|-----------------|---------------|-------------|-----------------|-----------|------------------|-------------|
| tipo_reembolso | Tipo | Clasificación | Texto(20) | Sí | No | No | Total |
| monto_reembolsado | Monto | Financiero | Decimal(10,2) | Sí | No | No | 3434.98 |
| motivo | Motivo | Informativo | Texto | Sí | No | No | Producto defectuoso |
| estado | Estado | Control | Enumeración | Sí | No | No | Completado |

---

#### **16. Envío**
- **Descripción:** Información del envío del pedido.
- **Propósito:** Gestionar el proceso de envío.
- **Reglas de negocio:**
  - Debe estar asociado a una venta.
  - Una venta tiene máximo un envío.

| **Atributo** | **Descripción** | **Propósito** | **Dominio** | **Obligatorio** | **Único** | **Multivaluado** | **Ejemplo** |
|--------------|-----------------|---------------|-------------|-----------------|-----------|------------------|-------------|
| empresa_envio | Empresa de envío | Logístico | Texto(100) | No | No | No | Olva Courier |
| metodo_envio | Método | Logístico | Texto(100) | No | No | No | Express |
| numero_tracking | Número tracking | Logístico | Texto(100) | No | No | No | TRACK123456 |
| costo | Costo del envío | Financiero | Decimal(10,2) | Sí | No | No | 15.00 |
| estado | Estado del envío | Control | Enumeración | Sí | No | No | En tránsito |

---

#### **17. Administrador**
- **Descripción:** Usuario con privilegios administrativos.
- **Propósito:** Gestionar usuarios con acceso administrativo.
- **Reglas de negocio:**
  - Debe ser un usuario del sistema.
  - Tiene permisos especiales.
  - Puede ser super administrador.

| **Atributo** | **Descripción** | **Propósito** | **Dominio** | **Obligatorio** | **Único** | **Multivaluado** | **Ejemplo** |
|--------------|-----------------|---------------|-------------|-----------------|-----------|------------------|-------------|
| es_super_admin | Si es super admin | Autorización | Booleano | Sí | No | No | Verdadero |
| permisos | Permisos granulares | Autorización | JSON | No | No | No | {"productos":"rw"} |

---

#### **18. Inventario**
- **Descripción:** Control de stock de productos.
- **Propósito:** Gestionar disponibilidad de productos.
- **Reglas de negocio:**
  - Cada producto detalle tiene un inventario.
  - La cantidad no puede ser negativa.
  - Alerta cuando cantidad < cantidad_minima.

| **Atributo** | **Descripción** | **Propósito** | **Dominio** | **Obligatorio** | **Único** | **Multivaluado** | **Ejemplo** |
|--------------|-----------------|---------------|-------------|-----------------|-----------|------------------|-------------|
| cantidad_disponible | Stock disponible | Control | Número | Sí | No | No | 47 |
| cantidad_minima | Stock mínimo | Control | Número | Sí | No | No | 5 |
| cantidad_maxima | Stock máximo | Control | Número | Sí | No | No | 100 |
| ubicacion_fisica | Ubicación en almacén | Logístico | Texto(100) | No | No | No | A-3-2 |

---

#### **19. Proveedor**
- **Descripción:** Proveedor de productos.
- **Propósito:** Gestionar proveedores de inventario.
- **Reglas de negocio:**
  - RUC debe ser único.
  - Puede suministrar múltiples productos.
  - Puede estar activo o inactivo.

| **Atributo** | **Descripción** | **Propósito** | **Dominio** | **Obligatorio** | **Único** | **Multivaluado** | **Ejemplo** |
|--------------|-----------------|---------------|-------------|-----------------|-----------|------------------|-------------|
| nombre | Nombre del proveedor | Identificación | Texto(200) | Sí | No | No | Tech Distributors SAC |
| ruc | RUC del proveedor | Identificación | Texto(20) | No | Sí | No | 20512345678 |
| email | Email de contacto | Comunicación | Texto(255) | No | No | No | ventas@techdist.com |
| telefono | Teléfono | Comunicación | Texto(20) | No | No | Sí | 014567890 |
| direccion | Dirección | Ubicación | Texto | No | No | No | Av. Industrial 456 |
| activo | Si está activo | Control | Booleano | Sí | No | No | Verdadero |

---

#### **20. Orden_Compra**
- **Descripción:** Orden de compra a proveedores.
- **Propósito:** Registrar compras de inventario.
- **Reglas de negocio:**
  - Debe tener un proveedor asociado.
  - Número de orden único.
  - Genera movimientos de inventario al recibir.

| **Atributo** | **Descripción** | **Propósito** | **Dominio** | **Obligatorio** | **Único** | **Multivaluado** | **Ejemplo** |
|--------------|-----------------|---------------|-------------|-----------------|-----------|------------------|-------------|
| numero_orden | Número único | Identificación | Texto(50) | Sí | Sí | No | OC-2025-001 |
| estado | Estado de la orden | Control | Texto(50) | Sí | No | No | Recibida |
| subtotal | Subtotal | Financiero | Decimal(10,2) | Sí | No | No | 80000.00 |
| impuestos | Impuestos | Financiero | Decimal(10,2) | Sí | No | No | 14400.00 |
| total | Total | Financiero | Decimal(10,2) | Sí | No | No | 94400.00 |

---

#### **21. Configuración**
- **Descripción:** Configuración del sistema.
- **Propósito:** Almacenar settings globales.
- **Reglas de negocio:**
  - La clave debe ser única.
  - Almacena configuraciones del sistema.

| **Atributo** | **Descripción** | **Propósito** | **Dominio** | **Obligatorio** | **Único** | **Multivaluado** | **Ejemplo** |
|--------------|-----------------|---------------|-------------|-----------------|-----------|------------------|-------------|
| clave | Clave de configuración | Identificación | Texto(100) | Sí | Sí | No | smtp_host |
| valor | Valor | Dato | Texto | Sí | No | No | smtp.gmail.com |
| tipo | Tipo de dato | Clasificación | Texto(50) | No | No | No | string |
| descripcion | Descripción | Informativo | Texto | No | No | No | Host del servidor SMTP |

---

## Tipos de Relación

#### **1. Relación: Familia contiene Categoría**
- **Entidades participantes:** Familia (1) — Categoría (N)
- **Descripción:** Una familia puede contener múltiples categorías de productos.
- **Propósito:** Organizar el catálogo de forma jerárquica.
- **Reglas de negocio relevantes:**
  - Una familia puede tener una o más categorías.
  - Una categoría pertenece a una única familia.
- **Cardinalidades:**
  - Familia (1,N)
  - Categoría (1,1)
- **Justificación:** La jerarquía permite organización clara del catálogo.

---

#### **2. Relación: Categoría clasifica Producto**
- **Entidades participantes:** Categoría (1) — Producto (N)
- **Descripción:** Una categoría agrupa múltiples productos del mismo tipo.
- **Propósito:** Clasificar productos en grupos específicos.
- **Reglas de negocio relevantes:**
  - Una categoría puede clasificar múltiples productos.
  - Un producto pertenece a una única categoría.
- **Cardinalidades:**
  - Categoría (1,N)
  - Producto (1,1)
- **Justificación:** Permite filtrado y navegación eficiente del catálogo.

---

#### **3. Relación: Marca fabrica Producto_Detalle**
- **Entidades participantes:** Marca (1) — Producto_Detalle (N)
- **Descripción:** Una marca fabrica múltiples productos específicos.
- **Propósito:** Identificar el fabricante de cada producto vendible.
- **Reglas de negocio relevantes:**
  - Una marca puede fabricar múltiples productos.
  - Un producto detalle es fabricado por una única marca.
- **Cardinalidades:**
  - Marca (1,N)
  - Producto_Detalle (1,1)
- **Justificación:** Permite filtrado por marca y gestión de fabricantes.

---

#### **4. Relación: Producto tiene Producto_Detalle**
- **Entidades participantes:** Producto (1) — Producto_Detalle (N)
- **Descripción:** Un tipo de producto puede tener múltiples instancias específicas.
- **Propósito:** Diferenciar entre el tipo general y las instancias vendibles.
- **Reglas de negocio relevantes:**
  - Un producto puede tener múltiples instancias de diferentes marcas.
  - Una instancia pertenece a un único tipo de producto.
- **Cardinalidades:**
  - Producto (1,N)
  - Producto_Detalle (1,1)
- **Justificación:** Permite gestionar múltiples versiones del mismo tipo de producto.

---

#### **5. Relación: Usuario escribe Valoración**
- **Entidades participantes:** Usuario (1) — Valoración (N)
- **Descripción:** Un usuario puede escribir múltiples valoraciones de productos.
- **Propósito:** Permitir que usuarios compartan opiniones sobre productos.
- **Reglas de negocio relevantes:**
  - Un usuario puede valorar múltiples productos.
  - Una valoración es escrita por un único usuario.
  - Un usuario no puede valorar el mismo producto más de una vez.
- **Cardinalidades:**
  - Usuario (1,N)
  - Valoración (1,1)
- **Justificación:** Gestiona el sistema de reviews y mejora la confianza del cliente.

---

#### **6. Relación: Producto recibe Valoración**
- **Entidades participantes:** Producto (1) — Valoración (N)
- **Descripción:** Un producto puede recibir múltiples valoraciones de usuarios.
- **Propósito:** Acumular opiniones sobre un tipo de producto.
- **Reglas de negocio relevantes:**
  - Un producto puede tener múltiples valoraciones.
  - Una valoración es sobre un único producto.
- **Cardinalidades:**
  - Producto (1,N)
  - Valoración (1,1)
- **Justificación:** Permite calcular valoración promedio por tipo de producto.

---

#### **7. Relación: Descuento aplica_a Producto/Categoría/Marca**
- **Entidades participantes:** Descuento (N) — Producto/Categoría/Marca (M)
- **Descripción:** Un descuento puede aplicarse a múltiples productos, categorías o marcas.
- **Propósito:** Gestionar promociones flexibles.
- **Reglas de negocio relevantes:**
  - Un descuento puede aplicarse a múltiples entidades.
  - Una entidad puede tener múltiples descuentos aplicables.
- **Cardinalidades:**
  - Descuento (0,N)
  - Producto/Categoría/Marca (0,N)
- **Justificación:** Flexibilidad en campañas promocionales.

---

#### **8. Relación: Usuario posee Carrito**
- **Entidades participantes:** Usuario (1) — Carrito (1)
- **Descripción:** Un usuario registrado tiene un carrito activo.
- **Propósito:** Gestionar productos antes de la compra.
- **Reglas de negocio relevantes:**
  - Un usuario puede tener solo un carrito activo a la vez.
  - Un carrito pertenece a un único usuario.
- **Cardinalidades:**
  - Usuario (0,1)
  - Carrito (1,1)
- **Justificación:** Previene conflictos y simplifica gestión de carritos.

---

#### **9. Relación: Usuario realiza Venta**
- **Entidades participantes:** Usuario (1) — Venta (N)
- **Descripción:** Un usuario puede realizar múltiples compras.
- **Propósito:** Registrar el historial de compras del cliente.
- **Reglas de negocio relevantes:**
  - Un usuario puede realizar múltiples ventas.
  - Una venta es realizada por un único usuario.
- **Cardinalidades:**
  - Usuario (1,N)
  - Venta (1,1)
- **Justificación:** Permite trackear historial y generar estadísticas.

---

#### **10. Relación: Venta genera Pago**
- **Entidades participantes:** Venta (1) — Pago (N)
- **Descripción:** Una venta puede tener múltiples intentos de pago.
- **Propósito:** Registrar transacciones de pago.
- **Reglas de negocio relevantes:**
  - Una venta puede tener múltiples pagos (reintentos).
  - Un pago pertenece a una única venta.
- **Cardinalidades:**
  - Venta (1,N)
  - Pago (1,1)
- **Justificación:** Permite manejo de pagos fallidos y reintentos.

---

#### **11. Relación: Metodo_Pago procesa Pago**
- **Entidades participantes:** Metodo_Pago (1) — Pago (N)
- **Descripción:** Un método de pago puede procesar múltiples transacciones.
- **Propósito:** Clasificar pagos por método usado.
- **Reglas de negocio relevantes:**
  - Un método puede procesar múltiples pagos.
  - Un pago usa un único método.
- **Cardinalidades:**
  - Metodo_Pago (1,N)
  - Pago (1,1)
- **Justificación:** Permite estadísticas por método de pago.

---

#### **12. Relación: Pago genera Reembolso**
- **Entidades participantes:** Pago (1) — Reembolso (N)
- **Descripción:** Un pago puede tener múltiples reembolsos parciales.
- **Propósito:** Gestionar devoluciones de dinero.
- **Reglas de negocio relevantes:**
  - Un pago puede tener múltiples reembolsos.
  - Un reembolso está asociado a un único pago.
- **Cardinalidades:**
  - Pago (1,N)
  - Reembolso (1,1)
- **Justificación:** Permite reembolsos parciales y trazabilidad.

---

#### **13. Relación: Venta aplica Cupón**
- **Entidades participantes:** Venta (N) — Cupón (M)
- **Descripción:** Una venta puede usar un cupón de descuento.
- **Propósito:** Aplicar promociones a ventas.
- **Reglas de negocio relevantes:**
  - Una venta puede usar máximo un cupón.
  - Un cupón puede ser usado en múltiples ventas.
- **Cardinalidades:**
  - Venta (0,1)
  - Cupón (0,N)
- **Justificación:** Gestiona promociones y limita usos.

---

#### **14. Relación: Venta genera Envío**
- **Entidades participantes:** Venta (1) — Envío (1)
- **Descripción:** Cada venta genera un único envío.
- **Propósito:** Gestionar la logística de entrega.
- **Reglas de negocio relevantes:**
  - Una venta tiene máximo un envío.
  - Un envío corresponde a una única venta.
- **Cardinalidades:**
  - Venta (1,1)
  - Envío (1,1)
- **Justificación:** Relación uno a uno para tracking simple.

---

#### **15. Relación: Usuario es Administrador**
- **Entidades participantes:** Usuario (1) — Administrador (1)
- **Descripción:** Un usuario puede ser administrador del sistema.
- **Propósito:** Otorgar privilegios administrativos.
- **Reglas de negocio relevantes:**
  - Un administrador es un usuario con permisos especiales.
  - Relación de especialización uno a uno.
- **Cardinalidades:**
  - Usuario (1,1)
  - Administrador (1,1)
- **Justificación:** Herencia para gestión de permisos.

---

#### **16. Relación: Producto_Detalle controla Inventario**
- **Entidades participantes:** Producto_Detalle (1) — Inventario (1)
- **Descripción:** Cada producto tiene un único inventario asociado.
- **Propósito:** Controlar el stock disponible.
- **Reglas de negocio relevantes:**
  - Un producto detalle tiene exactamente un inventario.
  - Un inventario controla un único producto.
- **Cardinalidades:**
  - Producto_Detalle (1,1)
  - Inventario (1,1)
- **Justificación:** Relación uno a uno para control de stock.

---

#### **17. Relación: Proveedor suministra Orden_Compra**
- **Entidades participantes:** Proveedor (1) — Orden_Compra (N)
- **Descripción:** Un proveedor puede tener múltiples órdenes de compra.
- **Propósito:** Gestionar compras a proveedores.
- **Reglas de negocio relevantes:**
  - Un proveedor puede tener múltiples órdenes.
  - Una orden corresponde a un único proveedor.
- **Cardinalidades:**
  - Proveedor (1,N)
  - Orden_Compra (1,1)
- **Justificación:** Permite gestión de relaciones con proveedores.

---